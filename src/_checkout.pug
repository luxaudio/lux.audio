// Checkout Modal
.checkout-modal.modal
  .modal-close
    | x

// Checkout widget
.checkout-container
  .checkout
    .continue-shopping
      h1
        i.arrow-left
        | Back
        i.shopping-bag
    input#cart-collapsed(type='checkbox')
    cart
      h1
        label(for='cart-collapsed') Order Summary
        label.expand-summary(for='cart-collapsed')
        .invoice-amount
          | { renderCurrency(data.get('order.currency'), data.get('order.total'))} { data.get('order.currency').toUpperCase() }
      lineitems(if='{ !isEmpty() }')
        .animated.slideInRight
          // .product-image-container(if="{ data.get('productSlug').indexOf('SC') != 0 }")
          //   img(src="/images/products/kits/{data.get('productSlug')}.png", alt="{ data.get('productName') }")
          // .product-image-container(if="{ data.get('productSlug').indexOf('SC') == 0 }")
          //   img(src="/images/products/scent-backgrounds/{data.get('productSlug').replace('-S','')}-bg.png", alt="{ data.get('productName') }")
          //   img(src="/images/products/scent-candles/{data.get('productSlug').replace('-S','')}.png", alt="{ data.get('productName') }")
          .product-text-container
            span.product-description
              span.product-name { data.get('productName') }
              p { data.get('description') }
          span.product-quantity-container.locked(if="{ data.get('locked') }")
            | { data.get('quantity') }
          span.product-quantity-container(if="{ !data.get('locked') }")
            quantity-select-control
          .product-price-container.invoice-amount
            .product-price
              | { renderCurrency(parentData.get('currency'), data.get().price * data.get().quantity) } { parentData.get('currency').toUpperCase() }
            .product-list-price.invoice-amount(if='{ data.get().listPrice > data.get().price }')
              | { renderCurrency(parentData.get('currency'), data.get().listPrice * data.get().quantity) } { parentData.get('currency').toUpperCase() }
      .promo
        .promo-row
          promocode.input(placeholder='Coupon Code')
          button.applying(class='{ loading: applying }', onclick='{ applyPromoCode }') Apply
          .promo-message(if="{ data.get('order.promoCode') && !promoMessage && !applying }")
            | Don't forget to apply your code!
          .promo-message(if='{ promoMessage }')
            | { promoMessage }
      .invoice-discount.invoice-line.animated.fadeInUp(if="{ data.get('order.discount') > 0 }")
        .invoice-label
          | Discount:
        .invoice-amount
          | { renderCurrency(data.get('order.currency'), data.get('order.discount'))} { data.get('order.currency').toUpperCase() }
      .invoice-line
        .invoice-label
          | Subtotal
        .invoice-amount
          | { renderCurrency(data.get('order.currency'), data.get('order.subtotal'))} { data.get('order.currency').toUpperCase() }
      .invoice-line
        .invoice-label
          | Shipping
        .invoice-amount.not-bold
          | { renderCurrency(data.get('order.currency'), data.get('order.shipping'))} { data.get('order.currency').toUpperCase() }
      .invoice-line
        .invoice-label
          | Tax ({ data.get('order.taxRate') * 100 }%)
        .invoice-amount
          | { renderCurrency(data.get('order.currency'), data.get('order.tax'))} { data.get('order.currency').toUpperCase() }
      .invoice-line.invoice-total
        .invoice-label
          | Total
        .invoice-amount
          | { renderCurrency(data.get('order.currency'), data.get('order.total'))} { data.get('order.currency').toUpperCase() }
      .invoice-line
        .invoice-label Estimated Ship Date
        .invoice-amount March 2017
      // <div class="special-offer">
      // <h1>SPECIAL OFFER</h1>
      // <div class="fields">
      // <div class="checkbox">
      // <input type="checkbox" id="refills" name="refills">
      // <label for="refills">
      // Yes! I would like a free month of Stoned refills and more
      // information about saving time and money with Stoned's
      // subscription plans. No strings attached!
      // </label>
      // </div>
      // </div>
      // </div>
    checkout
      .parts
        .part
          .contact-information
            h1
              | Contact Information
            .fields
              user-name.input(placeholder='Name')
              user-email.input(placeholder='Email')
          .payment-information
            h1
              | Payment Information
              i.lock
            .fields
              card-number.input(name='number', placeholder='Card Number')
              card-expiry.input(name='expiry', placeholder='MM / YY')
              card-cvc.input(name='cvc', placeholder='CVC')
            // <div class="card-types">
            // <div>
            // <img src="/img/card-icons/visa.png">
            // </div>
            // <div>
            // <img src="/img/card-icons/mastercard.png">
            // </div>
            // <div>
            // <img src="/img/card-icons/discover.png">
            // </div>
            // <div>
            // <img src="/img/card-icons/amex.png">
            // </div>
            // </div>
            a(href='//www.stripe.com', target='_blank')
              img.stripe-logo(src='/images/stripelogo.png')
          // <div class="confirmation">
          // <h1>
          // Almost Done
          // </h1>
          // <terms>
          // <label for="terms">I agree to Stoned's <a href="/legal" target="_blank">terms of service</a>.</label>
          // </terms>
          // </div>
        .part
          .shipping-information
            h1
              | Shipping Information
            .fields
              shippingaddress-line1.input(placeholder='Address')
              shippingaddress-line2.input(placeholder='Suite')
            .fields
              shippingaddress-city.input(placeholder='City')
              shippingaddress-postalcode.input(placeholder='Postal Code')
            .fields
              shippingaddress-state.input(placeholder='State')
              shippingaddress-country.input(placeholder='Country')
        .part
          .thankyou
            p
              | Thank you for making the world a little brighter! You will receive a confirmation email soon.
            p
              | Your order number is
              strong
              | .
            p(style='text-align:center') Tell your friends to get Stoned!
            .social
              a(href='https://www.facebook.com/sharer/sharer.php?u=https%3A//stoned.audio', target='_blank')
                i.fa.fa-facebook-square
              a(href='https://twitter.com/intent/tweet?url=https%3A%2F%2Fstoned.audio&text=I+want+to+get+Stoned+at&hashtags=GetStoned,StonedAudio&via=StonedHQ&original_referer=https%3A%2F%2Fstoned.audio', target='_blank')
                i.fa.fa-twitter
              a(href='mailto:?Subject=I%20found%20this%20cool%20thing.&body=Hey,%20I%20want%20you%20to%20get%20Stoned,%20check%20it%20out%20here%3A%20https%3A%2F%2Fstoned.audio')
                i.fa.fa-instagram
      button.loading.checkedOut(class='{ loading: loading || checkedOut }', type='submit')
        span Pre-order
        span Complete Checkout
      .error(if='{ errorMessage }')
        | { errorMessage }
      br
      p
        | By placing this pre-order, you agree to LuDela's
        a(href='/legal', target='_blank') terms of service
        | .  Payments will be processed
        |         immediately.
